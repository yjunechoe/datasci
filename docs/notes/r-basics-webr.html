<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Katie Schuler">
<meta name="dcterms.date" content="2023-08-31">

<title>LING 0700 - R Basics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/monaco-editor@0.31.0/min/vs/editor/editor.main.css">
<style>
  .monaco-editor pre {
    background-color: unset !important;
  }

  .btn-webr {
    background-color: #EEEEEE;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.31.0/min/vs/loader.js"></script>
<script type="module">

  // Configure the Monaco Editor's loader
  require.config({
    paths: {
      'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.31.0/min/vs'
    }
  });


  // Start a timer
  const initializeWebRTimerStart = performance.now();

  // Determine if we need to install R packages
  var installRPackagesList = [''];
  // Check to see if we have an empty array, if we do set to skip the installation.
  var setupRPackages = !(installRPackagesList.indexOf("") !== -1);

  // Display a startup message?
  var showStartupMessage = true;
  var showHeaderMessage = false;
  if (showStartupMessage) {

    // Create the outermost div element
    var quartoTitleMeta = document.createElement("div");
    quartoTitleMeta.classList.add("quarto-title-meta");

    // Create the first inner div element
    var firstInnerDiv = document.createElement("div");

    // Create the second inner div element with "WebR Status" heading 
    // and contents
    var secondInnerDiv = document.createElement("div");
    secondInnerDiv.classList.add("quarto-title-meta-heading");
    secondInnerDiv.innerText = "WebR Status";

    // Add another inner div
    var secondInnerDivContents = document.createElement("div");
    secondInnerDivContents.classList.add("quarto-title-meta-contents");

    // Describe the WebR state
    var startupMessageWebR = document.createElement("p");
    startupMessageWebR.innerText = "üü° Loading...";
    startupMessageWebR.setAttribute("id", "startup");
    // Add `aria-live` to auto-announce the startup status to screen readers
    startupMessageWebR.setAttribute("aria-live", "assertive");

    // Put everything together
    secondInnerDivContents.appendChild(startupMessageWebR);

    // Add a status indicator for COOP and COEP Headers
    if (showHeaderMessage) {
      var crossOriginMessage = document.createElement("p");
      crossOriginMessage.innerText = `${crossOriginIsolated ? 'üü¢' : 'üü°'} COOP & COEP Headers`;
      crossOriginMessage.setAttribute("id", "coop-coep-header");
      secondInnerDivContents.appendChild(crossOriginMessage);
    }

    firstInnerDiv.appendChild(secondInnerDiv);
    firstInnerDiv.appendChild(secondInnerDivContents);
    quartoTitleMeta.appendChild(firstInnerDiv);

    // Add new element as last child in header element
    var header = document.getElementsByTagName("header")[0];
    header.appendChild(quartoTitleMeta);
  }

  // Retrieve the webr.mjs
  import { WebR } from "https://webr.r-wasm.org/v0.2.0/webr.mjs";

  // Populate WebR options with defaults or new values based on 
  // webr meta
  globalThis.webR = new WebR({
    "baseURL": "",
    "serviceWorkerUrl": "../../datasci/",
    "homedir": "/home/web_user"
  });

  // Initialization WebR
  await globalThis.webR.init();

  // Setup a shelter
  globalThis.webRCodeShelter = await new globalThis.webR.Shelter();

  // Installing Packages
  if (showStartupMessage && setupRPackages) {
    // If initialized, but we have packages to install switch status
    startupMessageWebR.innerText = "üü° Installing package dependencies..."
    // Install packages
    await globalThis.webR.installPackages(installRPackagesList)
  }

  // Switch to allowing code to be executed
  document.querySelectorAll(".btn-webr").forEach((btn) => {
    btn.innerText = "Run code";
    btn.disabled = false;
  });

  // Stop timer
  const initializeWebRTimerEnd = performance.now();

  if (showStartupMessage) {
    // If initialized, switch to a green light
    startupMessageWebR.innerText = "üü¢ Ready!"
  }
</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">LING 0700</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html" rel="" target="">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../notes/hello-world.html" rel="" target="">
 <span class="menu-text">Lecture Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../labs/1-getting-started-with-r-lab.html" rel="" target="">
 <span class="menu-text">Labs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../psets/problem-set-1.html" rel="" target="">
 <span class="menu-text">Assessments</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#basics" id="toc-basics" class="nav-link active" data-scroll-target="#basics"><span class="header-section-number">1</span> Basics</a></li>
  <li><a href="#important-functions" id="toc-important-functions" class="nav-link" data-scroll-target="#important-functions"><span class="header-section-number">2</span> Important functions</a></li>
  <li><a href="#vectors" id="toc-vectors" class="nav-link" data-scroll-target="#vectors"><span class="header-section-number">3</span> Vectors</a></li>
  <li><a href="#subsetting" id="toc-subsetting" class="nav-link" data-scroll-target="#subsetting"><span class="header-section-number">4</span> Subsetting</a></li>
  <li><a href="#operations" id="toc-operations" class="nav-link" data-scroll-target="#operations"><span class="header-section-number">5</span> Operations</a></li>
  <li><a href="#built-in-functions" id="toc-built-in-functions" class="nav-link" data-scroll-target="#built-in-functions"><span class="header-section-number">6</span> Built-in functions</a></li>
  <li><a href="#programming-in-r" id="toc-programming-in-r" class="nav-link" data-scroll-target="#programming-in-r"><span class="header-section-number">7</span> Programming in R</a></li>
  <li><a href="#further-reading-and-references" id="toc-further-reading-and-references" class="nav-link" data-scroll-target="#further-reading-and-references"><span class="header-section-number">8</span> Further reading and references</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">R Basics</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Katie Schuler </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 31, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="basics" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="basics"><span class="header-section-number">1</span> Basics</h2>
<p>Defining some basic concepts:</p>
<ul>
<li><strong>Expressions</strong> are combination of values, variables, operators, and functions that can be evaluated to produce a result. Expressions can be as simple as a single value or more complex involving calculations, comparisons, and function calls. They are the fundamental building blocks of programming.
<ul>
<li><code>10</code> - a simple value expression that evaluates to <code>10</code>.</li>
<li><code>x + 10</code> - an expression that adds the value of <code>x</code> to <code>10</code></li>
<li><code>a &lt;- x + 10</code> - an expression that adds the value of <code>x</code> to <code>10</code> and assigns the result to the variable <code>a</code></li>
</ul>
<button class="btn btn-default btn-webr" disabled="" type="button" id="webr-run-button-1">Loading
  webR...</button>
<div id="webr-editor-1"></div>
<div id="webr-code-output-1" aria-live="assertive">
  <pre style="visibility: hidden"></pre>
</div>
<script type="module">
  // Retrieve webR code cell information
  const runButton = document.getElementById("webr-run-button-1");
  const outputDiv = document.getElementById("webr-code-output-1");
  const editorDiv = document.getElementById("webr-editor-1");

  // Add a light grey outline around the code editor
  editorDiv.style.border = "1px solid #eee";

  // Load the Monaco Editor and create an instance
  let editor;
  require(['vs/editor/editor.main'], function () {
    editor = monaco.editor.create(editorDiv, {
      value: `10
x + 10
a <- x + 10
a`,
      language: 'r',
      theme: 'vs-light',
      automaticLayout: true,           // TODO: Could be problematic for slide decks
      scrollBeyondLastLine: false,
      minimap: {
        enabled: false
      },
      fontSize: '17.5rem',               // Bootstrap is 1 rem
      renderLineHighlight: "none",     // Disable current line highlighting
      hideCursorInOverviewRuler: true  // Remove cursor indictor in right hand side scroll bar
    });

    // Add a keydown event listener for Shift+Enter using the addCommand method
    editor.addCommand(monaco.KeyMod.Shift | monaco.KeyCode.Enter, function () {
      // Code to run when Shift+Enter is pressed
      executeCode(editor.getValue());
    });

    // Add a keydown event listener for Ctrl+Enter to run selected code
    editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, function () {
      // Get the selected text from the editor
      const selectedText = editor.getModel().getValueInRange(editor.getSelection());
      // Code to run when Ctrl+Enter is pressed (run selected code)
      executeCode(selectedText);
    });

    // Dynamically modify the height of the editor window if new lines are added.
    let ignoreEvent = false;
    const updateHeight = () => {
      const contentHeight = editor.getContentHeight();
      // We're avoiding a width change
      //editorDiv.style.width = `${width}px`;
      editorDiv.style.height = `${contentHeight}px`;
      try {
        ignoreEvent = true;

        // The key to resizing is this call
        editor.layout();
      } finally {
        ignoreEvent = false;
      }
    };

    // Register an on change event for when new code is added to the editor window
    editor.onDidContentSizeChange(updateHeight);

    // Manually re-update height to account for the content we inserted into the call
    updateHeight();
  });

  // Function to execute the code (accepts code as an argument)
  async function executeCode(codeToRun) {
    // Disable run button for code cell active
    runButton.disabled = true;

    // Create a canvas variable for graphics
    let canvas = undefined;

    // Initialize webR
    await globalThis.webR.init();

    // Setup a webR canvas by making a namespace call into the {webr} package
    await webR.evalRVoid("webr::canvas(width=504, height=360)");

    // Capture output data from evaluating the code
    const result = await webRCodeShelter.captureR(codeToRun, {
      withAutoprint: true,
      captureStreams: true,
      captureConditions: false//,
      // env: webR.objs.emptyEnv, // maintain a global environment for webR v0.2.0
    });

    // Start attempting to parse the result data
    try {

      // Stop creating images
      await webR.evalRVoid("dev.off()");

      // Merge output streams of STDOUT and STDErr (messages and errors are combined.)
      const out = result.output.filter(
        evt => evt.type == "stdout" || evt.type == "stderr"
      ).map((evt) => evt.data).join("\n");

      // Clean the state
      const msgs = await webR.flush();

      // Output each image stored
      msgs.forEach(msg => {
        // Determine if old canvas can be used or a new canvas is required.
        if (msg.type === 'canvas'){
          // Add image to the current canvas
          if (msg.data.event === 'canvasImage') {
            canvas.getContext('2d').drawImage(msg.data.image, 0, 0);
          } else if (msg.data.event === 'canvasNewPage') {
            // Generate a new canvas element
            canvas = document.createElement("canvas");
            canvas.setAttribute("width", 2 * 504);
            canvas.setAttribute("height", 2 * 360);
            canvas.style.width = "700px";
            canvas.style.display = "block";
            canvas.style.margin = "auto";
          }
        }
      });

      // Nullify the outputDiv of content
      outputDiv.innerHTML = "";

      // Design an output object for messages
      const pre = document.createElement("pre");
      if (/\S/.test(out)) {
        // Display results as text
        const code = document.createElement("code");
        code.innerText = out;
        pre.appendChild(code);
      } else {
        // If nothing is present, hide the element.
        pre.style.visibility = "hidden";
      }
      outputDiv.appendChild(pre);

      // Place the graphics on the canvas
      if (canvas) {
        const p = document.createElement("p");
        p.appendChild(canvas);
        outputDiv.appendChild(p);
      }
    } finally {
      // Clean up the remaining code
      webRCodeShelter.purge();
      runButton.disabled = false;
    }
  }

  // Add a click event listener to the run button
  runButton.onclick = function () {
    executeCode(editor.getValue());
  };
</script></li>
<li><strong>Objects</strong> in R allow us to store various types of data, such as numbers, text, vectors, matrices; and more complex structures like functions and data frames. Objects are created by assigning values to variable names with the assignment operator, <code>&lt;-</code>. For example, in <code>x &lt;- 10</code>, <code>x</code> is an object assigned to the value 10.</li>
<li><strong>Names</strong> that we assign to objects must include only letters, numbers, <code>.</code>, or <code>_</code>. Names must start with a letter (or <code>.</code> if not followed by a number).</li>
<li><strong>Attributes</strong> allow you to attach arbirary metadata to an object. For example, adding a <code>dim</code> (dimension) attribute to a vector allows it to behave like a matrix or n dimensional array.</li>
<li><strong>Functions</strong> (or commands) are reusable pieces of code that take some input, preform some task or computation, and return an output. Many functions are built-in to base R (see below!), others can be part of packages or even defined by you. Functions are objects!</li>
<li><strong>Environment</strong> is the collection of all the objects (functions, variables etc.) we defined in the current R session.</li>
<li><strong>Packages</strong> are collections of functions, data, and documentation bundled together in R. They enhance R‚Äôs capabilities by introducing new functions and specialized data structures. Packages need to be installed and loaded before you can use their functions or data.</li>
<li><strong>Comments</strong> are notes you leave to yourself (within code blocks in colab) to document your code; comments are not evaluated.</li>
<li><strong>Messages</strong> are notes R leaves for you, after you run your code. Messages can be simply for-your-information, warnings that something unexpected might happen, or erros if R cannot evaluate your code.</li>
</ul>
<p>Ways to get help when coding in R:</p>
<ul>
<li><strong>Read packages docs</strong> - packages usually come with extensive documentation and examples. Reading the docs is one of the best ways to figure things out. Here is an example from the <a href="https://dplyr.tidyverse.org/">dplyr package</a>.</li>
<li><strong>Read error messages</strong> - read any error messages you receive while coding ‚Äî they give clues about what is going wrong!</li>
<li><strong>Ask R</strong> - Use R‚Äôs built-in functions to get help as you code</li>
<li><strong>Ask on Ed</strong>- ask questions on our class discussion board!</li>
<li><strong>Ask Google/Stack Overflow</strong> - It is a normal and important skill (not cheating) to google things while coding and learning to code! Use keywords and package names to ensure your solutions are course-relevant.</li>
<li><strong>Ask ChatGPT</strong> - You can similarly use ChatGPT or other LLMs as a resource. But keep in mind they may provide a solution that is wrong or not relevant to what we are learning in this course.</li>
</ul>
</section>
<section id="important-functions" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="important-functions"><span class="header-section-number">2</span> Important functions</h2>
<p>For objects:</p>
<ul>
<li><code>str(x)</code> - returns summary of object‚Äôs structure</li>
<li><code>typeof(x)</code> - returns object‚Äôs data type</li>
<li><code>length(x)</code> - returns object‚Äôs length</li>
<li><code>attributes(x)</code> - returns list of object‚Äôs attributes</li>
<li><code>is.*(x)</code> - test if object is data type (e.g.&nbsp;<code>is.double(x)</code>)</li>
<li><code>as.*(x)</code> - coerce object to data type (e.g.&nbsp;<code>as.double(x)</code>)</li>
</ul>
<button class="btn btn-default btn-webr" disabled="" type="button" id="webr-run-button-2">Loading
  webR...</button>
<div id="webr-editor-2"></div>
<div id="webr-code-output-2" aria-live="assertive">
  <pre style="visibility: hidden"></pre>
</div>
<script type="module">
  // Retrieve webR code cell information
  const runButton = document.getElementById("webr-run-button-2");
  const outputDiv = document.getElementById("webr-code-output-2");
  const editorDiv = document.getElementById("webr-editor-2");

  // Add a light grey outline around the code editor
  editorDiv.style.border = "1px solid #eee";

  // Load the Monaco Editor and create an instance
  let editor;
  require(['vs/editor/editor.main'], function () {
    editor = monaco.editor.create(editorDiv, {
      value: `str(a)
typeof(a)
length(a)
attributes(a)
is.numeric(a)
as.character(a)`,
      language: 'r',
      theme: 'vs-light',
      automaticLayout: true,           // TODO: Could be problematic for slide decks
      scrollBeyondLastLine: false,
      minimap: {
        enabled: false
      },
      fontSize: '17.5rem',               // Bootstrap is 1 rem
      renderLineHighlight: "none",     // Disable current line highlighting
      hideCursorInOverviewRuler: true  // Remove cursor indictor in right hand side scroll bar
    });

    // Add a keydown event listener for Shift+Enter using the addCommand method
    editor.addCommand(monaco.KeyMod.Shift | monaco.KeyCode.Enter, function () {
      // Code to run when Shift+Enter is pressed
      executeCode(editor.getValue());
    });

    // Add a keydown event listener for Ctrl+Enter to run selected code
    editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, function () {
      // Get the selected text from the editor
      const selectedText = editor.getModel().getValueInRange(editor.getSelection());
      // Code to run when Ctrl+Enter is pressed (run selected code)
      executeCode(selectedText);
    });

    // Dynamically modify the height of the editor window if new lines are added.
    let ignoreEvent = false;
    const updateHeight = () => {
      const contentHeight = editor.getContentHeight();
      // We're avoiding a width change
      //editorDiv.style.width = `${width}px`;
      editorDiv.style.height = `${contentHeight}px`;
      try {
        ignoreEvent = true;

        // The key to resizing is this call
        editor.layout();
      } finally {
        ignoreEvent = false;
      }
    };

    // Register an on change event for when new code is added to the editor window
    editor.onDidContentSizeChange(updateHeight);

    // Manually re-update height to account for the content we inserted into the call
    updateHeight();
  });

  // Function to execute the code (accepts code as an argument)
  async function executeCode(codeToRun) {
    // Disable run button for code cell active
    runButton.disabled = true;

    // Create a canvas variable for graphics
    let canvas = undefined;

    // Initialize webR
    await globalThis.webR.init();

    // Setup a webR canvas by making a namespace call into the {webr} package
    await webR.evalRVoid("webr::canvas(width=504, height=360)");

    // Capture output data from evaluating the code
    const result = await webRCodeShelter.captureR(codeToRun, {
      withAutoprint: true,
      captureStreams: true,
      captureConditions: false//,
      // env: webR.objs.emptyEnv, // maintain a global environment for webR v0.2.0
    });

    // Start attempting to parse the result data
    try {

      // Stop creating images
      await webR.evalRVoid("dev.off()");

      // Merge output streams of STDOUT and STDErr (messages and errors are combined.)
      const out = result.output.filter(
        evt => evt.type == "stdout" || evt.type == "stderr"
      ).map((evt) => evt.data).join("\n");

      // Clean the state
      const msgs = await webR.flush();

      // Output each image stored
      msgs.forEach(msg => {
        // Determine if old canvas can be used or a new canvas is required.
        if (msg.type === 'canvas'){
          // Add image to the current canvas
          if (msg.data.event === 'canvasImage') {
            canvas.getContext('2d').drawImage(msg.data.image, 0, 0);
          } else if (msg.data.event === 'canvasNewPage') {
            // Generate a new canvas element
            canvas = document.createElement("canvas");
            canvas.setAttribute("width", 2 * 504);
            canvas.setAttribute("height", 2 * 360);
            canvas.style.width = "700px";
            canvas.style.display = "block";
            canvas.style.margin = "auto";
          }
        }
      });

      // Nullify the outputDiv of content
      outputDiv.innerHTML = "";

      // Design an output object for messages
      const pre = document.createElement("pre");
      if (/\S/.test(out)) {
        // Display results as text
        const code = document.createElement("code");
        code.innerText = out;
        pre.appendChild(code);
      } else {
        // If nothing is present, hide the element.
        pre.style.visibility = "hidden";
      }
      outputDiv.appendChild(pre);

      // Place the graphics on the canvas
      if (canvas) {
        const p = document.createElement("p");
        p.appendChild(canvas);
        outputDiv.appendChild(p);
      }
    } finally {
      // Clean up the remaining code
      webRCodeShelter.purge();
      runButton.disabled = false;
    }
  }

  // Add a click event listener to the run button
  runButton.onclick = function () {
    executeCode(editor.getValue());
  };
</script>
<p>for environment:</p>
<ul>
<li><code>ls()</code> - list all variables in environment</li>
<li><code>rm(x)</code> - remove x variable from environment</li>
<li><code>rm(list = ls())</code> - remove all variables from environment</li>
</ul>
<button class="btn btn-default btn-webr" disabled="" type="button" id="webr-run-button-3">Loading
  webR...</button>
<div id="webr-editor-3"></div>
<div id="webr-code-output-3" aria-live="assertive">
  <pre style="visibility: hidden"></pre>
</div>
<script type="module">
  // Retrieve webR code cell information
  const runButton = document.getElementById("webr-run-button-3");
  const outputDiv = document.getElementById("webr-code-output-3");
  const editorDiv = document.getElementById("webr-editor-3");

  // Add a light grey outline around the code editor
  editorDiv.style.border = "1px solid #eee";

  // Load the Monaco Editor and create an instance
  let editor;
  require(['vs/editor/editor.main'], function () {
    editor = monaco.editor.create(editorDiv, {
      value: `ls()
# rm(a)
a`,
      language: 'r',
      theme: 'vs-light',
      automaticLayout: true,           // TODO: Could be problematic for slide decks
      scrollBeyondLastLine: false,
      minimap: {
        enabled: false
      },
      fontSize: '17.5rem',               // Bootstrap is 1 rem
      renderLineHighlight: "none",     // Disable current line highlighting
      hideCursorInOverviewRuler: true  // Remove cursor indictor in right hand side scroll bar
    });

    // Add a keydown event listener for Shift+Enter using the addCommand method
    editor.addCommand(monaco.KeyMod.Shift | monaco.KeyCode.Enter, function () {
      // Code to run when Shift+Enter is pressed
      executeCode(editor.getValue());
    });

    // Add a keydown event listener for Ctrl+Enter to run selected code
    editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, function () {
      // Get the selected text from the editor
      const selectedText = editor.getModel().getValueInRange(editor.getSelection());
      // Code to run when Ctrl+Enter is pressed (run selected code)
      executeCode(selectedText);
    });

    // Dynamically modify the height of the editor window if new lines are added.
    let ignoreEvent = false;
    const updateHeight = () => {
      const contentHeight = editor.getContentHeight();
      // We're avoiding a width change
      //editorDiv.style.width = `${width}px`;
      editorDiv.style.height = `${contentHeight}px`;
      try {
        ignoreEvent = true;

        // The key to resizing is this call
        editor.layout();
      } finally {
        ignoreEvent = false;
      }
    };

    // Register an on change event for when new code is added to the editor window
    editor.onDidContentSizeChange(updateHeight);

    // Manually re-update height to account for the content we inserted into the call
    updateHeight();
  });

  // Function to execute the code (accepts code as an argument)
  async function executeCode(codeToRun) {
    // Disable run button for code cell active
    runButton.disabled = true;

    // Create a canvas variable for graphics
    let canvas = undefined;

    // Initialize webR
    await globalThis.webR.init();

    // Setup a webR canvas by making a namespace call into the {webr} package
    await webR.evalRVoid("webr::canvas(width=504, height=360)");

    // Capture output data from evaluating the code
    const result = await webRCodeShelter.captureR(codeToRun, {
      withAutoprint: true,
      captureStreams: true,
      captureConditions: false//,
      // env: webR.objs.emptyEnv, // maintain a global environment for webR v0.2.0
    });

    // Start attempting to parse the result data
    try {

      // Stop creating images
      await webR.evalRVoid("dev.off()");

      // Merge output streams of STDOUT and STDErr (messages and errors are combined.)
      const out = result.output.filter(
        evt => evt.type == "stdout" || evt.type == "stderr"
      ).map((evt) => evt.data).join("\n");

      // Clean the state
      const msgs = await webR.flush();

      // Output each image stored
      msgs.forEach(msg => {
        // Determine if old canvas can be used or a new canvas is required.
        if (msg.type === 'canvas'){
          // Add image to the current canvas
          if (msg.data.event === 'canvasImage') {
            canvas.getContext('2d').drawImage(msg.data.image, 0, 0);
          } else if (msg.data.event === 'canvasNewPage') {
            // Generate a new canvas element
            canvas = document.createElement("canvas");
            canvas.setAttribute("width", 2 * 504);
            canvas.setAttribute("height", 2 * 360);
            canvas.style.width = "700px";
            canvas.style.display = "block";
            canvas.style.margin = "auto";
          }
        }
      });

      // Nullify the outputDiv of content
      outputDiv.innerHTML = "";

      // Design an output object for messages
      const pre = document.createElement("pre");
      if (/\S/.test(out)) {
        // Display results as text
        const code = document.createElement("code");
        code.innerText = out;
        pre.appendChild(code);
      } else {
        // If nothing is present, hide the element.
        pre.style.visibility = "hidden";
      }
      outputDiv.appendChild(pre);

      // Place the graphics on the canvas
      if (canvas) {
        const p = document.createElement("p");
        p.appendChild(canvas);
        outputDiv.appendChild(p);
      }
    } finally {
      // Clean up the remaining code
      webRCodeShelter.purge();
      runButton.disabled = false;
    }
  }

  // Add a click event listener to the run button
  runButton.onclick = function () {
    executeCode(editor.getValue());
  };
</script>
<p>For packages:</p>
<ul>
<li><code>install.packages()</code> to install packages</li>
<li><code>library()</code> to load the package into your current R session.</li>
<li><code>data()</code> to load data from package into environment</li>
<li><code>sessionInfo()</code> - version information for current R session and packages</li>
</ul>
<button class="btn btn-default btn-webr" disabled="" type="button" id="webr-run-button-4">Loading
  webR...</button>
<div id="webr-editor-4"></div>
<div id="webr-code-output-4" aria-live="assertive">
  <pre style="visibility: hidden"></pre>
</div>
<script type="module">
  // Retrieve webR code cell information
  const runButton = document.getElementById("webr-run-button-4");
  const outputDiv = document.getElementById("webr-code-output-4");
  const editorDiv = document.getElementById("webr-editor-4");

  // Add a light grey outline around the code editor
  editorDiv.style.border = "1px solid #eee";

  // Load the Monaco Editor and create an instance
  let editor;
  require(['vs/editor/editor.main'], function () {
    editor = monaco.editor.create(editorDiv, {
      value: `sessionInfo()`,
      language: 'r',
      theme: 'vs-light',
      automaticLayout: true,           // TODO: Could be problematic for slide decks
      scrollBeyondLastLine: false,
      minimap: {
        enabled: false
      },
      fontSize: '17.5rem',               // Bootstrap is 1 rem
      renderLineHighlight: "none",     // Disable current line highlighting
      hideCursorInOverviewRuler: true  // Remove cursor indictor in right hand side scroll bar
    });

    // Add a keydown event listener for Shift+Enter using the addCommand method
    editor.addCommand(monaco.KeyMod.Shift | monaco.KeyCode.Enter, function () {
      // Code to run when Shift+Enter is pressed
      executeCode(editor.getValue());
    });

    // Add a keydown event listener for Ctrl+Enter to run selected code
    editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, function () {
      // Get the selected text from the editor
      const selectedText = editor.getModel().getValueInRange(editor.getSelection());
      // Code to run when Ctrl+Enter is pressed (run selected code)
      executeCode(selectedText);
    });

    // Dynamically modify the height of the editor window if new lines are added.
    let ignoreEvent = false;
    const updateHeight = () => {
      const contentHeight = editor.getContentHeight();
      // We're avoiding a width change
      //editorDiv.style.width = `${width}px`;
      editorDiv.style.height = `${contentHeight}px`;
      try {
        ignoreEvent = true;

        // The key to resizing is this call
        editor.layout();
      } finally {
        ignoreEvent = false;
      }
    };

    // Register an on change event for when new code is added to the editor window
    editor.onDidContentSizeChange(updateHeight);

    // Manually re-update height to account for the content we inserted into the call
    updateHeight();
  });

  // Function to execute the code (accepts code as an argument)
  async function executeCode(codeToRun) {
    // Disable run button for code cell active
    runButton.disabled = true;

    // Create a canvas variable for graphics
    let canvas = undefined;

    // Initialize webR
    await globalThis.webR.init();

    // Setup a webR canvas by making a namespace call into the {webr} package
    await webR.evalRVoid("webr::canvas(width=504, height=360)");

    // Capture output data from evaluating the code
    const result = await webRCodeShelter.captureR(codeToRun, {
      withAutoprint: true,
      captureStreams: true,
      captureConditions: false//,
      // env: webR.objs.emptyEnv, // maintain a global environment for webR v0.2.0
    });

    // Start attempting to parse the result data
    try {

      // Stop creating images
      await webR.evalRVoid("dev.off()");

      // Merge output streams of STDOUT and STDErr (messages and errors are combined.)
      const out = result.output.filter(
        evt => evt.type == "stdout" || evt.type == "stderr"
      ).map((evt) => evt.data).join("\n");

      // Clean the state
      const msgs = await webR.flush();

      // Output each image stored
      msgs.forEach(msg => {
        // Determine if old canvas can be used or a new canvas is required.
        if (msg.type === 'canvas'){
          // Add image to the current canvas
          if (msg.data.event === 'canvasImage') {
            canvas.getContext('2d').drawImage(msg.data.image, 0, 0);
          } else if (msg.data.event === 'canvasNewPage') {
            // Generate a new canvas element
            canvas = document.createElement("canvas");
            canvas.setAttribute("width", 2 * 504);
            canvas.setAttribute("height", 2 * 360);
            canvas.style.width = "700px";
            canvas.style.display = "block";
            canvas.style.margin = "auto";
          }
        }
      });

      // Nullify the outputDiv of content
      outputDiv.innerHTML = "";

      // Design an output object for messages
      const pre = document.createElement("pre");
      if (/\S/.test(out)) {
        // Display results as text
        const code = document.createElement("code");
        code.innerText = out;
        pre.appendChild(code);
      } else {
        // If nothing is present, hide the element.
        pre.style.visibility = "hidden";
      }
      outputDiv.appendChild(pre);

      // Place the graphics on the canvas
      if (canvas) {
        const p = document.createElement("p");
        p.appendChild(canvas);
        outputDiv.appendChild(p);
      }
    } finally {
      // Clean up the remaining code
      webRCodeShelter.purge();
      runButton.disabled = false;
    }
  }

  // Add a click event listener to the run button
  runButton.onclick = function () {
    executeCode(editor.getValue());
  };
</script>
<p>For help:</p>
<ul>
<li><code>?mean</code> - get help with a function</li>
<li><code>help.search('mean')</code> - search help files for word or phrase</li>
<li><code>help(package='tidyverse')</code> - find help for a package</li>
</ul>
<button class="btn btn-default btn-webr" disabled="" type="button" id="webr-run-button-5">Loading
  webR...</button>
<div id="webr-editor-5"></div>
<div id="webr-code-output-5" aria-live="assertive">
  <pre style="visibility: hidden"></pre>
</div>
<script type="module">
  // Retrieve webR code cell information
  const runButton = document.getElementById("webr-run-button-5");
  const outputDiv = document.getElementById("webr-code-output-5");
  const editorDiv = document.getElementById("webr-editor-5");

  // Add a light grey outline around the code editor
  editorDiv.style.border = "1px solid #eee";

  // Load the Monaco Editor and create an instance
  let editor;
  require(['vs/editor/editor.main'], function () {
    editor = monaco.editor.create(editorDiv, {
      value: `?mean`,
      language: 'r',
      theme: 'vs-light',
      automaticLayout: true,           // TODO: Could be problematic for slide decks
      scrollBeyondLastLine: false,
      minimap: {
        enabled: false
      },
      fontSize: '17.5rem',               // Bootstrap is 1 rem
      renderLineHighlight: "none",     // Disable current line highlighting
      hideCursorInOverviewRuler: true  // Remove cursor indictor in right hand side scroll bar
    });

    // Add a keydown event listener for Shift+Enter using the addCommand method
    editor.addCommand(monaco.KeyMod.Shift | monaco.KeyCode.Enter, function () {
      // Code to run when Shift+Enter is pressed
      executeCode(editor.getValue());
    });

    // Add a keydown event listener for Ctrl+Enter to run selected code
    editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.Enter, function () {
      // Get the selected text from the editor
      const selectedText = editor.getModel().getValueInRange(editor.getSelection());
      // Code to run when Ctrl+Enter is pressed (run selected code)
      executeCode(selectedText);
    });

    // Dynamically modify the height of the editor window if new lines are added.
    let ignoreEvent = false;
    const updateHeight = () => {
      const contentHeight = editor.getContentHeight();
      // We're avoiding a width change
      //editorDiv.style.width = `${width}px`;
      editorDiv.style.height = `${contentHeight}px`;
      try {
        ignoreEvent = true;

        // The key to resizing is this call
        editor.layout();
      } finally {
        ignoreEvent = false;
      }
    };

    // Register an on change event for when new code is added to the editor window
    editor.onDidContentSizeChange(updateHeight);

    // Manually re-update height to account for the content we inserted into the call
    updateHeight();
  });

  // Function to execute the code (accepts code as an argument)
  async function executeCode(codeToRun) {
    // Disable run button for code cell active
    runButton.disabled = true;

    // Create a canvas variable for graphics
    let canvas = undefined;

    // Initialize webR
    await globalThis.webR.init();

    // Setup a webR canvas by making a namespace call into the {webr} package
    await webR.evalRVoid("webr::canvas(width=504, height=360)");

    // Capture output data from evaluating the code
    const result = await webRCodeShelter.captureR(codeToRun, {
      withAutoprint: true,
      captureStreams: true,
      captureConditions: false//,
      // env: webR.objs.emptyEnv, // maintain a global environment for webR v0.2.0
    });

    // Start attempting to parse the result data
    try {

      // Stop creating images
      await webR.evalRVoid("dev.off()");

      // Merge output streams of STDOUT and STDErr (messages and errors are combined.)
      const out = result.output.filter(
        evt => evt.type == "stdout" || evt.type == "stderr"
      ).map((evt) => evt.data).join("\n");

      // Clean the state
      const msgs = await webR.flush();

      // Output each image stored
      msgs.forEach(msg => {
        // Determine if old canvas can be used or a new canvas is required.
        if (msg.type === 'canvas'){
          // Add image to the current canvas
          if (msg.data.event === 'canvasImage') {
            canvas.getContext('2d').drawImage(msg.data.image, 0, 0);
          } else if (msg.data.event === 'canvasNewPage') {
            // Generate a new canvas element
            canvas = document.createElement("canvas");
            canvas.setAttribute("width", 2 * 504);
            canvas.setAttribute("height", 2 * 360);
            canvas.style.width = "700px";
            canvas.style.display = "block";
            canvas.style.margin = "auto";
          }
        }
      });

      // Nullify the outputDiv of content
      outputDiv.innerHTML = "";

      // Design an output object for messages
      const pre = document.createElement("pre");
      if (/\S/.test(out)) {
        // Display results as text
        const code = document.createElement("code");
        code.innerText = out;
        pre.appendChild(code);
      } else {
        // If nothing is present, hide the element.
        pre.style.visibility = "hidden";
      }
      outputDiv.appendChild(pre);

      // Place the graphics on the canvas
      if (canvas) {
        const p = document.createElement("p");
        p.appendChild(canvas);
        outputDiv.appendChild(p);
      }
    } finally {
      // Clean up the remaining code
      webRCodeShelter.purge();
      runButton.disabled = false;
    }
  }

  // Add a click event listener to the run button
  runButton.onclick = function () {
    executeCode(editor.getValue());
  };
</script>
</section>
<section id="vectors" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="vectors"><span class="header-section-number">3</span> Vectors</h2>
<p>One of the must fundamental data structures in R is the <strong>vector</strong>. There are two types:</p>
<ul>
<li><strong>atomic vector</strong> - elements of the same data type</li>
<li><strong>list</strong> - elements refer to any object (even complex objects or other lists)</li>
</ul>
<p>Atomic vectors can be one of six <strong>data types</strong>:</p>
<ul>
<li><code>double</code> - real numbers, written in decimal (0.1234) or scientific notation (1.23e4)
<ul>
<li>numbers are double by default (3 is stored as 3.00)</li>
<li>three special doubles: <code>Inf</code>, <code>-Inf</code>, and <code>NaN</code> (not a number)</li>
</ul></li>
<li><code>integer</code> - integers, numbers followed by <code>L</code> (3L or 1e3L)</li>
<li><code>character</code> - strings with single or double quotes (‚Äòhello world!‚Äô or ‚Äúhello world!‚Äù)</li>
<li><code>logical</code> - boolean written (<code>TRUE</code> or <code>FALSE</code>) or abbreviated (<code>T</code> or <code>F</code>)</li>
<li><code>complex</code> - complex numbers where <code>i</code> is imaginary (<code>5 + 3i</code>)</li>
<li><code>raw</code> - stores raw bytes</li>
</ul>
<p>Some more complex data structures are <strong>built from atomic vectors</strong> by adding <strong>attributes</strong>:</p>
<ul>
<li><code>matrix</code> - a vector with a <code>dim</code> attribute representing 2 dimensions</li>
<li><code>array</code> - a vector with a <code>dim</code> attribute representing n dimensions</li>
<li><code>factor</code> - an integer vector with two attributes: <code>class="factor"</code> and <code>levels</code>, which defines the set of allowed values (useful for categorical data)</li>
<li><code>date-time</code> - a double vector where the value is the number of seconds since Jan 01, 1970 and a <code>tzone</code> attribute representing the time zone</li>
<li><code>data.frame</code> - a named list of vectors (of equal length) with attributes for <code>names</code> (column names), <code>row.names</code>, and <code>class="data.frame"</code> (used to represent datasets)</li>
</ul>
<p>To create atomic vectors:</p>
<ul>
<li><code>c(2,4,6)</code> - c for combine, returns <code>2 4 6</code></li>
<li><code>2:4</code> - vector of integers, returns <code>2 3 4</code></li>
<li><code>seq(2:6, by=2)</code> - sequence by, returns <code>2 4 6</code></li>
</ul>
<p>To create more complex structures:</p>
<ul>
<li><code>list(x=c(1,2,3), y=c('a','b'))</code> - create a list</li>
<li><code>matrix(x, nrow=2, ncol=2)</code> - create a matrix from x with nrow and ncol</li>
<li><code>array(x, dim=c(2,3,2))</code> - create an array from x with dimensions</li>
<li><code>factor(x, levels=unique(x))</code> - turn a vector into a factor</li>
<li><code>data.frame(x=c(1,2,3), y=c('a','b','c'))</code> - create a data frame</li>
</ul>
<p>Missing elements and empty vectors:</p>
<ul>
<li><code>NA</code>- used to represent missing or unknown elements in vectors. Note that <code>NA</code> is contageous: expressions including <code>NA</code> usually return <code>NA</code></li>
<li><code>NULL</code> - used to represent an empty or absent vector of arbitrary type. <code>NULL</code> is its own special type and always has length zero and <code>NULL</code> attributes.</li>
</ul>
</section>
<section id="subsetting" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="subsetting"><span class="header-section-number">4</span> Subsetting</h2>
<blockquote class="blockquote">
<p>Subsetting is a natural complement to str(). While str() shows you all the pieces of any object (its structure), subsetting allows you to pull out the pieces that you‚Äôre interested in. ~ Hadley Wickham, Advanced R</p>
</blockquote>
<p>There are three operators for subsetting objects:</p>
<ul>
<li><code>[</code> - selects multiple elements</li>
<li><code>[[</code> and <code>$</code> - <em>extracts</em> a single element</li>
</ul>
<p>There are six ways to <strong>select multiple elements</strong> from vectors with <code>[</code>:</p>
<ul>
<li><code>x[c(1,2)]</code> - positive integers select elements at specified indexes</li>
<li><code>x[-c(1,2)]</code> - negative integers select all but elements at specified indexes</li>
<li><code>x[c("name", "name2")]</code> select elements by name, if elements are named</li>
<li><code>x[]</code> - nothing returns the original object</li>
<li><code>x[0]</code> - zero returns a zero-length vector</li>
<li><code>x[c(TRUE, TRUE)]</code> - select elements where corresponding logical value is <code>TRUE</code></li>
</ul>
<p>These also apply when selecting multiple elements from <strong>higher dimensional objects</strong> (matrix, array, data frame), but note that:</p>
<ul>
<li>indexes for different dimensions are separated by commas <code>[rows, columns, ...]</code></li>
<li>omitted dimensions return all values along that dimension</li>
<li>the result is simplified to the lowest possible dimensions by default</li>
<li>they can also be indexed like a vector (selects columns)</li>
</ul>
<p>There are 3 ways to <strong>extract a single element</strong> from any data structure:</p>
<ul>
<li><code>[[2]]</code> - a single positive integer (index)</li>
<li><code>[['name']]</code> - a single string</li>
<li><code>x$name</code> - the <code>$</code> operator is a useful shorthand for <code>[['name']]</code></li>
</ul>
<p>When extracting single elements, note that:</p>
<ul>
<li><code>[[</code> is preferred for atomic vectors for clarity (though<code>[</code> also works)</li>
<li><code>$</code> does partial matching without warning; use <code>options(warnPartialMatchDollar=TRUE)</code></li>
<li>the behavior for invalid indexes is inconsistent: sometimes you‚Äôll get an error message, and sometimes it will return <code>NULL</code></li>
</ul>
</section>
<section id="operations" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="operations"><span class="header-section-number">5</span> Operations</h2>
<p>Arithmetic operators:</p>
<ul>
<li><code>+</code> - add</li>
<li><code>-</code> - subtract</li>
<li><code>*</code> - multiply</li>
<li><code>/</code> - divide</li>
<li><code>^</code> - exponent</li>
</ul>
<p>Comparison operators return true or false:</p>
<ul>
<li><code>a == b</code> - equal to</li>
<li><code>a != b</code> - not equal to</li>
<li><code>a &gt; b</code> - greater than</li>
<li><code>a &lt; b</code> - less than</li>
<li><code>a &gt;= b</code> - greater than or equal to</li>
<li><code>a &lt;= b</code> - less than or equal to</li>
</ul>
<p>Logical operators combine multiple true or false statements:</p>
<ul>
<li><code>&amp;</code> - and</li>
<li><code>|</code> - or</li>
<li><code>!</code> - not</li>
<li><code>any()</code> - returns true if any element meets condition</li>
<li><code>all()</code> - returns true if all elements meet condition</li>
<li><code>%in%</code> - returns true if any element is in the following vector</li>
</ul>
<p>Most math operations (and many functions) are <strong>vectorized</strong> in R:</p>
<ul>
<li>they can work on entire vectors, without the need for explicit loops or iteration.</li>
<li>this a powerful feature that allows you to write cleaner, more efficient code</li>
<li>To illustrate, suppose <code>x &lt;- c(1, 2, 3)</code>:
<ul>
<li><code>x + 100</code> returns <code>[101 102 103]</code></li>
<li><code>x == 1</code> returns <code>[TRUE FALSE FALSE]</code></li>
</ul></li>
</ul>
</section>
<section id="built-in-functions" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="built-in-functions"><span class="header-section-number">6</span> Built-in functions</h2>
<p>Note that you do not need to memorize these built-in functions to be successful on quizzes. Use this as a reference.</p>
<p>For basic math:</p>
<ul>
<li><code>log(x)</code> - natural log</li>
<li><code>exp(x)</code> - exponential</li>
<li><code>sqrt(x)</code> - square root</li>
<li><code>abs(x)</code> - absolute value</li>
<li><code>max(x)</code> - largest element</li>
<li><code>min(x)</code> - smallest element</li>
<li><code>round(x, n)</code> - round to n decimal places</li>
<li><code>signif(x, n)</code> - round to n significant figures</li>
<li><code>sum(x)</code> - add all elements</li>
</ul>
<p>For stats:</p>
<ul>
<li><code>mean(x)</code> - mean</li>
<li><code>median(x)</code> - median</li>
<li><code>sd(x)</code> - standard deviation</li>
<li><code>var(x)</code> - variance</li>
<li><code>quantile(x)</code> - percentage quantiles</li>
<li><code>rank(x)</code> - rank of elements</li>
<li><code>cor(x, y)</code> - correlation</li>
<li><code>lm(x ~ y, data=df)</code> - fit a linear model</li>
<li><code>glm(x ~ y, data=df)</code> - fit a generalized linear model</li>
<li><code>summary(x)</code> - get more detailed information from a fitted model</li>
<li><code>aov(x)</code> - analysis of variance</li>
</ul>
<p>For vectors:</p>
<ul>
<li><code>sort(x)</code> - return sorted vector</li>
<li><code>table(x)</code> - see counts of values in a vector</li>
<li><code>rev(x)</code> - return reversed vector</li>
<li><code>unique(x)</code> - return unique values in a vector</li>
<li><code>dim(x)</code> - transform vector into n-dimensional array</li>
</ul>
<p>For matrices:</p>
<ul>
<li><code>t(m)</code> - transpose matrix</li>
<li><code>m %+% n</code> - matrix multiplication</li>
<li><code>solve(m, n)</code> - find x in m * x = n</li>
</ul>
<p>For data frames:</p>
<ul>
<li><code>view(df)</code> - see the full data frame</li>
<li><code>head(df)</code> - see the first 6 rows of data frame</li>
<li><code>nrow(df)</code> - number of rows in a data frame</li>
<li><code>ncol(df)</code> - number of columns in a data frame</li>
<li><code>dim(df)</code> - number of columns and rows in a data frame</li>
<li><code>cbind(df1, df2)</code> - bind columns</li>
<li><code>rbind(df1, df2)</code> - bind rows</li>
</ul>
<p>For strings:</p>
<ul>
<li><code>paste(x, y, sep=' ')</code> - join multiple vectors together</li>
<li><code>toupper(x)</code> - convert to uppercase</li>
<li><code>tolower(x)</code> - convert to lowercase</li>
<li><code>nchar(x)</code> - number of characters in a string</li>
</ul>
<p>For simple plotting:</p>
<ul>
<li><code>plot(x)</code> values of x in order</li>
<li><code>plot(x, y)</code> - values of x against y</li>
<li><code>hist(x)</code> - histogram of x</li>
</ul>
</section>
<section id="programming-in-r" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="programming-in-r"><span class="header-section-number">7</span> Programming in R</h2>
<p>Writing <strong>functions</strong> and handling <strong>flow control</strong> are important aspects of learning to program in any language. For our purposes, some general conceptual knowledge on these topics is sufficient (see below). Those interested to learn more might enjoy the book <a href="https://rstudio-education.github.io/hopr/">Hands-On Programming with R</a>.</p>
<ul>
<li><p><strong>Functions</strong> are reusable pieces of code that take some input, perform some task or computation, and return an output.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span>(inputs){</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># do something</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(output)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Flow control</strong> refers to managing the order in which expressions are executed in a program:</p>
<ul>
<li><code>if</code>‚Ä¶<code>else</code> - if something is true, do this; otherwise do that</li>
<li><code>for</code> loops - repeat code a specific number of times</li>
<li><code>while</code> loops - repeat code as long as certain conditions are true</li>
<li><code>break</code> - exit a loop early</li>
<li><code>next</code> - skip to next iteration in a loop</li>
</ul></li>
</ul>
</section>
<section id="further-reading-and-references" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="further-reading-and-references"><span class="header-section-number">8</span> Further reading and references</h2>
<p>Suggested further reading:</p>
<ul>
<li><a href="https://iqss.github.io/dss-workshops/R/Rintro/base-r-cheat-sheet.pdf">Base R Cheat Sheet</a></li>
<li><a href="https://moderndive.com/1-getting-started.html">Getting Started with Data in R</a> in ModernDive textbook</li>
<li><a href="https://bookdown.org/rdpeng/rprogdatascience/r-nuts-and-bolts.html">R Nuts and Bolts</a> in R Programming for Data Science by Roger Peng</li>
</ul>
<p>Other references:</p>
<ul>
<li><a href="https://tobydriscoll.net/blog/matlab-vs.-julia-vs.-python/">Matlab vs.&nbsp;Julia vs.&nbsp;Python</a> from blog post by Toby Driscoll</li>
<li><a href="https://adv-r.hadley.nz/vectors-chap.html">Vectors</a> in Advanced R by Hadley Wickham</li>
<li><a href="https://adv-r.hadley.nz/subsetting.html">Subsetting</a> in Advanced R by Hadley Wickham</li>
<li><a href="https://r4ds.hadley.nz/base-r">A field guide to base R</a> in R for Data Science by Hadley Wickham</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Made with <a href="https://quarto.org/">Quarto</a></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>